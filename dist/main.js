(()=>{"use strict";var t={208:(t,e,n)=>{n.d(e,{A:()=>h});var i=n(601),r=n.n(i),s=n(314),o=n.n(s),a=n(417),c=n.n(a),d=new URL(n(100),n.b),l=o()(r());l.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap);"]);var u=c()(d);l.push([t.id,`* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n.title {\n  font-family: "Luckiest Guy", cursive;\n  font-size: 50px;\n  color: #3c2803;\n}\n\n.selectionBoard {\n  display: flex;\n  gap: 10px;\n}\n\n.shipContainer > div.rotated {\n  display: flex;\n}\n.shipContainer > div.hidden {\n  display: none;\n}\n.boardsContainer {\n  margin-top: 50px;\n  justify-content: center;\n  display: flex;\n  gap: 80px;\n  flex-wrap: wrap;\n}\n\n.gameboardContainer {\n  margin: 20px;\n}\n.gameboard {\n  max-width: 400px;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n}\n\n.cell,\n.shipPart {\n  width: 40px;\n  height: 40px;\n  background-color: #e0e0e0;\n  border: 1px solid #c2c2c2;\n}\n\n.shipPart {\n  background-color: #5f5f5f;\n  border: 1px solid #c2c2c2;\n}\n.cell:hover {\n  background-color: #cfcfcf;\n  transition: all 0.1s ease-out;\n}\n\n.cell.human.ship {\n  background-color: #202020;\n  border: 1px solid #202020;\n}\n.cell.human.ship.hit {\n  background-color: #f95e5e;\n  border: 1px solid #f95e5e;\n}\n.hit {\n  pointer-events: none;\n  background-image: url(${u});\n}\n.cell.computer.ship.hit {\n  background-color: #006e1a;\n  border: 1px solid #006e1a;\n}\n.cell.dragging {\n  border: 2px dashed #000;\n  opacity: 0.8;\n}\n.highlighted {\n  background-color: lightblue;\n}\n`,""]);const h=l},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);i&&o[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var s={},o=[],a=0;a<t.length;a++){var c=t[a],d=i.base?c[0]+i.base:c[0],l=s[d]||0,u="".concat(d," ").concat(l);s[d]=l+1;var h=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var f=r(p,i);i.byIndex=a,e.splice(a,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=i(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var a=n(s[o]);e[a].references--}for(var c=i(t,r),d=0;d<s.length;d++){var l=n(s[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=c}}},659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},100:(t,e,n)=>{t.exports=n.p+"0b77bf705187f0606166.svg"}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={id:i,exports:{}};return t[i](s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=i[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{class t{constructor(t,e=null){this.length=t,this.hits=0,this.sunk=!1,this.id=e}hit(){this.hits<this.length&&(this.hits+=1),this.isSunk()}isSunk(){return this.hits===this.length&&(this.sunk=!0),this.sunk}setId(t){this.id=t}getId(){return this.id}}class e{constructor(){this.size=10,this.board=this.initializeBoard(),this.ships=[],this.placedShips=new Set,this.missedHits=0}initializeBoard(){const t=[];for(let e=0;e<this.size;e++){t[e]=[];for(let n=0;n<this.size;n++)t[e][n]={ship:null,hit:!1}}return t}initializeShips(){const e=[];e.push(...function(){const e=[];for(let n=0;n<4;n++){const n=new t(2);e.push(n)}return e}(),...function(){const e=[];for(let n=0;n<3;n++){const n=new t(3);e.push(n)}return e}(),...function(){const e=[];for(let n=0;n<2;n++){const n=new t(4);e.push(n)}return e}(),...function(){const e=[],n=new t(5);return e.push(n),e}());let n=0;for(let t=0;t<e.length;t++)e[t].setId(n),n+=1;return e}restartBoard(){this.board=this.initializeBoard(),this.ships=[],this.placedShips=new Set,this.missedHits=0}createShip(e,n){if(!this.ships.find((t=>t.getId()===e))){const i=new t(n,e);this.ships.push(i)}}getShip(t,e){return null!==this.board[t][e].ship&&this.board[t][e].ship}placeShipsRandomly(){this.restartBoard(),this.ships=this.initializeShips(),function(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}(this.ships).forEach((t=>{let e,n,i,r=!1,s=0;for(;!r&&s<100;)i=Math.random()<.5,i?(n=Math.floor(Math.random()*(this.size-t.length+1)),e=Math.floor(Math.random()*this.size)):(n=Math.floor(Math.random()*this.size),e=Math.floor(Math.random()*(this.size-t.length+1))),this.placeShip(t.getId(),e,n,i)&&(r=!0),s++;r||this.placeShipsRandomly(),this.placedShips.add(t.getId())}))}placeShip(t,e,n,i){const r=this.ships.find((e=>e.getId()===t)),s=r.length;if(this.checkAvailability(t,s,e,n,i)){if(i){for(let t=0;t<=s-1;t++)this.board[e][n+t].ship=r;return`Your ship of length ${s} is positioned at [${e}, ${n}] to [${e}, ${n+s-1}]`}if(!i){for(let t=0;t<=s-1;t++)this.board[e+t][n].ship=r;return`Your ship of length ${s} is positioned at [${e}, ${n}] to [${e+s-1}, ${n}]`}return this.placedShips.add(t),!0}return!1}removeShip(t){const e=this.ships.find((e=>e.getId()===t));if(!e)return!1;for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++)this.board[t][n].ship===e&&(this.board[t][n].ship=null);return this.placedShips.delete(t),"Ship successfully deleted!"}isShipAlreadyPlaced(t){return this.placedShips.has(t)}receiveAttack(t,e){const n=this.getShip(t,e);return n?(n.hit(),this.board[t][e].hit=!0,this.areAllShipsSunk()?"All sunk!":"Hit!"):(this.board[t][e].hit=!0,this.missedHits+=1,"You missed!")}areAllShipsSunk(){return!!this.ships.every((t=>t.isSunk()))}checkAvailability(t,e,n,i,r){return!(!this.isWithinBoard(e,n,i,r)||this.isShipAlreadyPlaced(t)||!this.shipCellsAreEmpty(e,n,i,r)||this.hasNeighbors(e,n,i,r)||this.hasDiagonalNeighbors(e,n,i,r))}isWithinBoard(t,e,n,i){return!(e<0||e>=this.size||n<0||n>=this.size||i&&n+t-1>=this.size||!i&&e+t-1>=this.size)}shipCellsAreEmpty(t,e,n,i){if(i){for(let i=0;i<t;i++)if(null!==this.board[e][n+i].ship)return!1}else for(let i=0;i<t;i++)if(null!==this.board[e+i][n].ship)return!1;return!0}hasNeighbors(t,e,n,i){if(i){if(0!==n&&null!==this.board[e][n-1].ship)return!0;if(n+t-1!=this.size-1&&null!==this.board[e][n+t].ship)return!0;if(0!==e)for(let i=0;i<t;i++)if(null!==this.board[e-1][n+i].ship)return!0;if(e!==this.size-1)for(let i=0;i<t;i++)if(null!==this.board[e+1][n+i].ship)return!0}else{if(0!==n)for(let i=0;i<t;i++)if(null!==this.board[e+i][n-1].ship)return!0;if(n!==this.size-1)for(let i=0;i<t;i++)if(null!==this.board[e+i][n+1].ship)return!0;if(0!==e&&null!==this.board[e-1][n].ship)return!0;if(e+t-1!=this.size-1&&null!==this.board[e+t][n].ship)return!0}return!1}hasDiagonalNeighbors(t,e,n,i){if(e>0&&n>0&&null!==this.board[e-1][n-1].ship)return!0;if(!i){if(n>0&&e+t-1<9&&null!==this.board[e+t][n-1].ship)return!0;if(e>0&&n<9&&null!==this.board[e-1][n+1].ship)return!0;if(e+t-1<9&&n<9&&null!==this.board[e+t][n+1].ship)return!0}if(i){if(n>0&&e<9&&null!==this.board[e+1][n-1].ship)return!0;if(e>0&&n+t-1<9&&null!==this.board[e-1][n+t].ship)return!0;if(e<9&&n+t-1<9&&null!==this.board[e+1][n+t].ship)return!0}return!1}}class i{constructor(t){this.type=t,this.board=new e}}function r(t,e){const n=document.createElement("div");n.id=`${t}BoardContainer`,n.classList.add("gameboardContainer");const i=document.createElement("div");i.classList.add("gameboard"),i.id=`${t}board`,n.appendChild(i);for(let e=0;e<10;e++)for(let n=0;n<10;n++){const r=document.createElement("div");r.textContent="",r.dataset.row=e,r.dataset.column=n,i.appendChild(r),r.classList.add("cell"),r.classList.add(`${t}`)}return e.appendChild(n),n}function s(t,e){const n=document.getElementById(`${e}board`);for(let e=0;e<t.size;e++)for(let i=0;i<t.size;i++){const r=n.querySelector(`[data-row='${e}'][data-column='${i}']`);t.board[e][i].ship?r.classList.add("ship"):r.classList.remove("ship"),t.board[e][i].hit?r.classList.add("hit"):r.classList.remove("hit")}}const o=document.querySelector("#content");function a(t){document.querySelector(".turnMessage").textContent=t}const c=document.querySelector("#content");function d(t){for(;c.firstChild;)c.removeChild(c.firstChild);if(t){const t=function(){const t=document.createElement("div");t.classList.add("gameContainer"),o.appendChild(t);const e=document.createElement("div");e.classList.add("infoContainer"),t.appendChild(e);const n=document.createElement("div");n.classList.add("turnMessage"),e.appendChild(n);const i=document.createElement("div");i.classList.add("boardsContainer"),t.appendChild(i),r("human",i),r("computer",i),document.querySelectorAll(".cell").forEach((t=>{t.addEventListener("click",(()=>{t.classList.contains("hit")||t.classList.contains("human")||function(t){if("computer"===l.getActivePlayer().type)return;const e=l.getWaitingPlayer().board;if(!u.checkWin()){const n=parseInt(t.getAttribute("data-row"),10),i=parseInt(t.getAttribute("data-column"),10);if(e.receiveAttack(n,i),e.areAllShipsSunk())return u.registerWin(),s(e,"computer"),void a(`${l.getActivePlayer().type} won!`);l.switchTurn(),s(e,"computer"),"computer"===l.getActivePlayer().type&&h.playSmartComputerRound()}}(t)}))}));const c=document.createElement("div");return function(t){const e=document.createElement("button");e.id="restartGameButton",t.appendChild(e),e.textContent="Restart game!",e.addEventListener("click",(()=>{!function(){const[t,e]=l.getPlayers();f(t.board,"human"),f(e.board,"computer"),d(!1),u.restartRounds(),h.restartComputerMemory(!0),"computer"===l.activePlayer&&l.switchTurn()}()}))}(c),t.appendChild(c),t}();c.appendChild(t)}else{const t=k();c.appendChild(t)}}const l=function(){let t=null,e=null,n=null,r=null;return t=new i("computer"),e=new i("human"),n=e,r=t,{getPlayers:()=>[e,t],getActivePlayer:()=>n,switchTurn:function(){[n,r]=[r,n]},getWaitingPlayer:()=>r}}(),u=function(){let t=!1;return{checkWin:function(){return!!t},registerWin:function(){t=!0},restartRounds:function(){t=!1}}}(),h=function(){const t={hitStack:[],direction:null,directionsTried:{},isShipHorizontal:!1,initialX:null,initialY:null,isLastHit:!1,numberOfHits:0,neighborCells:new Set},e=["up","right","down","left"],n=function(e=!1){t.hitStack=[],t.direction=null,t.directionsTried={},t.isShipHorizontal=!1,t.initialX=null,t.initialY=null,t.isLastHit=!1,t.numberOfHits=0,e&&(t.neighborCells=new Set)},i=(t,e,n)=>{switch(n){case"up":return{x:t-1,y:e};case"right":return{x:t,y:e+1};case"down":return{x:t+1,y:e};case"left":return{x:t,y:e-1};default:return null}},r=(t,e)=>t>=0&&t<10&&e>=0&&e<10,o=function(n){let i,r=e.indexOf(n);for(let n=0;n<e.length;n++)if(r=(r+1)%e.length,i=e[r],!t.directionsTried[i])return i;return!1},c=function(){const t=l.getWaitingPlayer(),e=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());return t.board.board[e][n].hit?c():[e,n]};return{playSmartComputerRound:function(){if(!u.checkWin()){const d=l.getWaitingPlayer(),[h,p]=function(){let s,a,d,u;const h=l.getWaitingPlayer();if(5===t.numberOfHits)return n(),c();if(t.hitStack.length>0||null!==t.initialX)for(null===t.initialX||t.isLastHit?({x:d,y:u}=t.hitStack.pop()):(d=t.initialX,u=t.initialY),t.direction||(t.direction=function(){const t=Math.floor(Math.random()*e.length);return e[t]}(),t.directionsTried={up:!1,right:!1,down:!1,left:!1}),2===t.numberOfHits&&t.isLastHit&&function(){const e=t.direction;t.isShipHorizontal="left"===e||"right"===e,t.isShipHorizontal?t.directionsTried={up:!0,down:!0,left:!1,right:!1}:t.directionsTried={up:!1,down:!1,left:!0,right:!0}}(),({x:s,y:a}=i(d,u,t.direction));!r(s,a)||h.board.board[s][a].hit||t.directionsTried[t.direction];){if(t.directionsTried[t.direction]=!0,!o(t.direction))return n(),c();t.direction=o(t.direction),({x:s,y:a}=i(t.initialX,t.initialY,t.direction))}else n(),[s,a]=c();return[s,a]}();d.board.receiveAttack(h,p),s(d.board,"human"),d.board.board[h][p].ship?(t.hitStack.push({x:h,y:p}),null===t.initialX&&(t.initialX=h,t.initialY=p),t.numberOfHits+=1,t.isLastHit=!0):(t.isLastHit=!1,t.direction&&(t.directionsTried[t.direction]=!0)),d.board.areAllShipsSunk()&&(a(`${l.getActivePlayer().type} won!`),u.registerWin()),l.switchTurn()}},restartComputerMemory:n}}();function p(t,e){t.placeShipsRandomly(),s(t,e)}function f(t,e){t.restartBoard(),s(t,e)}const m=function(){const[t,e]=l.getPlayers();return 10===t.board.ships.length&&(d(!0),p(e.board,"computer"),s(t.board,"human")),{}},g=document.querySelector("#content");function b(t){t.dataTransfer.setDragImage(t.target,20,20);const e=t.currentTarget.dataset,n=JSON.stringify(e);t.dataTransfer.setData("text/plain",n)}function v(t){t.preventDefault(),t.target.classList.add("highlighted")}function y(t){t.target.classList.remove("highlighted")}function S(t){t.preventDefault();const e=t.target;e.classList.remove("highlighted");const n=t.dataTransfer.getData("text/plain"),i=JSON.parse(n),r=i.id,o="true"===i.isHorizontal,a=parseInt(i.length,10),c=function(t,e,n,i,r){const[o,a]=l.getPlayers(),c=o.board;if(c.createShip(t,r),c.placeShip(t,e,n,i))return s(c,"human"),!0}(r,parseInt(e.getAttribute("data-row"),10),parseInt(e.getAttribute("data-column"),10),o,a);c&&document.querySelector(`[data-id="${r}"]`).classList.add("hidden")}function C(t){var e;t.preventDefault(),(e=t.currentTarget).classList.contains("rotated")?(e.classList.remove("rotated"),e.dataset.isHorizontal=!1):(e.classList.add("rotated"),e.dataset.isHorizontal=!0)}function x(t,e,n){const i=document.createElement("div");i.classList.add("shipContainer");const r=document.createElement("div");r.classList.add("ship"),i.appendChild(r),r.dataset.length=e,r.dataset.isHorizontal=!1,r.dataset.id=t;for(let t=1;t<=e;t++){const t=document.createElement("div");t.classList.add("shipPart"),r.appendChild(t)}n.push(i),r.setAttribute("draggable",!0),r.addEventListener("dragstart",b),r.addEventListener("contextmenu",C)}function L(){const t=document.querySelector(".selectionBoard");for(;t.firstChild;)t.removeChild(t.firstChild);const e=[];x(1,2,e),x(2,2,e),x(3,2,e),x(4,2,e),x(5,3,e),x(6,3,e),x(7,3,e),x(8,4,e),x(9,4,e),x(10,5,e),e.forEach((e=>{t.appendChild(e)}))}function E(){L()}function w(){document.querySelectorAll(".ship").forEach((t=>{t.classList.add("hidden")}))}function k(){const t=document.createElement("div");g.appendChild(t);const e=document.createElement("div"),n=document.createElement("div");n.classList.add("title"),n.textContent="PaperBoats",e.appendChild(n),t.appendChild(e);const i=document.createElement("div");i.classList.add("choosingBoards"),t.appendChild(i);const s=document.createElement("div");s.classList.add("selectionBoard"),i.appendChild(s),L();const o=r("human",i);document.querySelectorAll(".cell").forEach((t=>{t.addEventListener("dragstart",(t=>{t.preventDefault()})),t.addEventListener("dragover",v),t.addEventListener("dragleave",y),t.addEventListener("drop",S)})),i.appendChild(o);const a=document.createElement("div");(function(t){const e=document.createElement("button");e.id="randomizeButton",t.appendChild(e),e.textContent="Randomize ships!";const[n,i]=l.getPlayers();return e.addEventListener("click",(()=>{p(n.board,"human")})),e})(a).addEventListener("click",w);const c=document.createElement("div");(function(t){const e=document.createElement("button");e.id="clearButton",t.appendChild(e),e.textContent="Clear board!";const[n,i]=l.getPlayers();return e.addEventListener("click",(()=>{f(n.board,"human")})),e})(c).addEventListener("click",E);const d=document.createElement("div");return function(t){const e=document.createElement("button");e.id="startGameButton",t.appendChild(e),e.textContent="Start your game!",e.addEventListener("click",(()=>{m()}))}(d),i.appendChild(a),i.appendChild(c),i.appendChild(d),t}var A=n(72),z=n.n(A),M=n(825),T=n.n(M),P=n(659),H=n.n(P),$=n(56),I=n.n($),B=n(540),R=n.n(B),W=n(113),O=n.n(W),q=n(208),N={};N.styleTagTransform=O(),N.setAttributes=I(),N.insert=H().bind(null,"head"),N.domAPI=T(),N.insertStyleElement=R(),z()(q.A,N),q.A&&q.A.locals&&q.A.locals,k()})()})();
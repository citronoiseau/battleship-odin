(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>L});var i=n(601),a=n.n(i),o=n(314),r=n.n(o),s=n(417),d=n.n(s),l=new URL(n(474),n.b),c=new URL(n(89),n.b),p=new URL(n(409),n.b),u=new URL(n(100),n.b),h=new URL(n(657),n.b),m=new URL(n(254),n.b),f=r()(a());f.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Indie+Flower&family=Permanent+Marker&display=swap?family=Inconsolata&family=Ubuntu+Sans+Mono:ital@0;1&display=swap);"]);var g=d()(l),y=d()(c),b=d()(p),v=d()(u),x=d()(h),C=d()(m);f.push([e.id,`* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbutton {\n  font-family: "Inconsolata", monospace;\n  background-color: #777b76;\n  font-size: min(5vw, 1.5rem);\n  color: #f6f5e3;\n  border: none;\n  padding: 20px;\n  border-radius: 20px;\n  margin: 0 15px 0 15px;\n  transition: 0.2s ease-in-out;\n  width: 300px;\n}\nbutton:hover {\n  background-color: #999d98;\n  transform: translateY(-5px);\n}\n\n/* starting menu style */\n\n.startMenuContainer {\n  min-height: 100vh;\n  background-image: url(${g});\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n  font-family: "Inconsolata", monospace;\n}\n\n.title {\n  font-family: "Indie Flower", cursive;\n  font-size: 9vw;\n  color: #394f41;\n}\n\n.startMenuContainer .buttonContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 15px;\n}\n\n.buttonContainer button:active {\n  background-color: #b6bcb5;\n}\n\n.authorMessage,\n.authorMessage a {\n  font-family: "Inconsolata", monospace;\n  font-size: 1.2rem;\n  color: #394f41;\n  transition: 0.2s ease;\n}\n.authorMessage a:hover {\n  color: #63846f;\n}\n.closeButtonContainer {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n#closeButton {\n  width: 60px;\n  background-color: transparent;\n  border: none;\n  padding: 10px;\n  transition: all 0.2s ease-in;\n  border-radius: 0 0 0 15px;\n  margin: 0;\n}\n\n#closeButton img {\n  width: 25px;\n  height: 25px;\n  transition: transform 0.3s ease;\n}\n#closeButton:hover {\n  background-color: #26382d;\n  transform: translateY(0px);\n}\n#closeButton:hover img {\n  transform: rotate(65deg);\n}\n\n.dialog {\n  top: 50%;\n  height: 0;\n  overflow: hidden;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  opacity: 0;\n  transition: opacity 0.4s ease-out;\n  border: none;\n  padding: 40px 40px 20px 40px;\n  visibility: hidden;\n  border-radius: 15px;\n  box-shadow:\n    rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n    rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;\n  background-color: #394f41;\n  color: #f6f5e3;\n  width: min(80vw, 800px);\n  height: 60vh;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  align-items: center;\n}\n\n.dialog.active {\n  overflow-y: auto;\n  opacity: 1;\n  visibility: visible;\n}\n\n.dialog .dialogTitle {\n  font-family: "Indie Flower", cursive;\n  font-size: min(5vw, 3.5rem);\n}\n.dialog::-webkit-scrollbar {\n  width: 12px;\n}\n.dialog::-webkit-scrollbar-track {\n  background: #26382d;\n  border-top-right-radius: 15px;\n  border-bottom-right-radius: 15px;\n}\n.dialog::-webkit-scrollbar-thumb {\n  background: #19281f;\n  border-top-right-radius: 15px;\n  border-bottom-right-radius: 15px;\n}\n.dialog::-webkit-scrollbar-thumb:hover {\n  background: #415b4b;\n}\n\n.paragraphTitle {\n  font-size: 1.3rem;\n  text-align: center;\n}\n.dialogParagraph {\n  padding: 10px;\n  font-size: 1.2rem;\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n  text-align: justify;\n}\n\n#confirmButton {\n  font-size: min(4vw, 1.2rem);\n  width: 220px;\n}\n\n/* selecting menu style */\n\n.selectMenuContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-image: url(${y});\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-color: #b0d6c9;\n  min-height: 100vh;\n}\n\n.choosingContainer {\n  padding: 30px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n}\n\n.playerOneContainer.oneLayout {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  flex-direction: row-reverse;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n.screenControlsContainer {\n  margin: 50px 0 20px 0;\n}\n\n.screenControlsContainer,\n.boardControlsContainer {\n  display: flex;\n  transition: all 0.3s ease-in-out;\n}\n.boardControlsContainer {\n  padding-left: 15px;\n  margin: 20px 0;\n}\n\n.playerOneContainer.oneLayout .boardControlsContainer {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.ships,\n.ships2,\n.shipsHorizontal {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n.boardControlsContainer button {\n  font-size: 1.1rem;\n  width: min(30vw, 200px);\n  opacity: 1;\n  visibility: visible;\n}\n\n.boardControlsContainer.hidden {\n  opacity: 0;\n  visibility: hidden;\n}\n.controlButtonsContainer {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.screenControlsContainer button,\n.controlButtonsContainer button,\n.buttonsContainer button {\n  font-size: min(4vw, 1.4rem);\n  width: min(40vw, 350px);\n}\n\n.choosingBoards {\n  display: flex;\n  flex-wrap: wrap;\n}\n.selectionBoard {\n  flex-direction: column;\n  display: flex;\n  transition: all 0.3s ease-in-out;\n  align-items: center;\n  gap: 10px;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  background-color: #5f5f5f16;\n  width: 500px;\n  min-height: 350px;\n  padding-bottom: 10px;\n}\n.boardTextContainer,\n.boardTextContainer {\n  font-family: "Inconsolata", monospace;\n  background-color: #777b76;\n  font-size: min(5vw, 1.5rem);\n  color: #f6f5e3;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  width: 100%;\n  text-align: center;\n  padding: 10px;\n}\n.boardTextContainer .helpingMessage {\n  padding-top: 15px;\n  font-size: min(5vw, 1.1rem);\n}\n\n.shipContainer > div.rotated {\n  display: flex;\n}\n.shipContainer > div.hidden {\n  display: none;\n}\n\n.boardsContainer {\n  justify-content: center;\n  display: flex;\n  gap: 80px;\n  flex-wrap: wrap;\n}\n#hideSecondPlayer {\n  opacity: 1;\n  transition: all 0.3s ease-in-out;\n}\n#hideSecondPlayer.hidden {\n  opacity: 0;\n  visibility: hidden;\n}\n.gameboard {\n  display: grid;\n  grid-template-areas: "xNumbers xNumbers" "yNumbers cells";\n  grid-template-columns: 20px auto;\n  gap: 5px;\n  padding-left: 20px;\n}\n\n.gameboard > .cells {\n  grid-area: cells;\n  display: grid;\n  max-width: 405px;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  background: url(${b});\n  background-size: cover;\n  border: 4px solid #62afb4;\n  box-shadow:\n    rgba(0, 0, 0, 0.09) 0px 2px 1px,\n    rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px,\n    rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n}\n.numberContainerX,\n.numberContainerY {\n  font-family: "Permanent Marker", cursive;\n  color: #19281f;\n}\n.numberContainerX {\n  grid-area: xNumbers;\n  display: flex;\n  max-width: 400px;\n  justify-content: space-between;\n  padding-left: 40px;\n}\n\n.numberContainerY {\n  grid-area: yNumbers;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n}\n\n.cell,\n.shipPart {\n  width: 40px;\n  height: 40px;\n  border: 2px solid #62afb4;\n}\n\n.shipPart {\n  background-color: #777b76;\n  border: 1px solid #c2c2c2;\n}\n.cell:hover,\n.cell.ship.hidden:hover,\n.cell.ship.hidden:hover,\n.cell.computer.ship:hover {\n  background-color: #00000066;\n  transition: all 0.1s ease-out;\n}\n.cell.ship.hidden,\n.cell.ship.hidden,\n.cell.computer.ship {\n  background-color: #00000000;\n  border: 2px solid #62afb4;\n}\n.cell.ship {\n  background-color: #5f5f5f;\n}\n.cell.ship.hit,\n.cell.ship.hit {\n  background-color: #f95e5ed5;\n  border: 1px solid #f95e5e00;\n  background-image: url(${v});\n  background-position: center;\n}\n\n.cell.computer.ship.hit {\n  background-color: #006e1ac8;\n  border: 1px solid #006e1a00;\n  background-image: url(${v});\n  background-position: center;\n}\n.cell.hit {\n  pointer-events: none;\n  background-color: #3e6f698e;\n  background-image: url(${v});\n  background-position: center;\n}\n\n.cell.boardHit {\n  pointer-events: none;\n  background-color: #3e6f698e;\n}\n\n.cell.hit svg {\n  color: #2c3634ef;\n}\n.cell {\n  transition: background-color 0.3s ease-in-out;\n  background-color: #00000000;\n}\n\n.cell.dragging {\n  border: 2px dashed #000;\n  opacity: 0.8;\n}\n.highlighted {\n  background-color: #394f4152;\n}\n\n/* gaming menu style */\n\n.gameContainer {\n  background-image: url(${x});\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-color: #b0d6c9;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n}\n.infoContainer {\n  font-family: "Indie Flower", cursive;\n  padding: 20px;\n  font-size: min(10vw, 2.5rem);\n  font-weight: 600;\n  color: #394f41;\n}\n\n.buttonsContainer {\n  padding-bottom: 70px;\n  margin-top: 40px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.buttonsContainer button {\n  font-size: min(3.9vw, 1.2rem);\n  width: min(65vw, 300px);\n}\n.turnMessage.hidden {\n  visibility: hidden;\n}\n#joinGameDialog {\n  max-width: 500px;\n  height: 35vh;\n}\n#joinGameDialog .dialogTitle {\n  font-size: min(5vw, 2.2rem);\n}\n\n@media (max-width: 700px) {\n  .startMenuContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .dialog {\n    padding: 40px 10px 20px 10px;\n  }\n  #joinGameDialog {\n    height: 25vh;\n  }\n  #closeButton {\n    padding: 15px 0 0 40px;\n  }\n  #closeButton img {\n    width: 25px;\n    height: 25px;\n  }\n  .cell,\n  .shipPart {\n    width: 30px;\n    height: 30px;\n  }\n  .hit {\n    background-image: url(${C});\n  }\n  .playerOneContainer {\n    margin-top: 20px;\n  }\n  .playerOneContainer,\n  .playerTwoContainer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  .selectionBoard {\n    display: none;\n  }\n  .choosingContainer {\n    padding: 0;\n  }\n\n  .gameboard {\n    padding-left: 0px;\n  }\n}\n\n@media (max-width: 1000px) {\n  .playerOneContainer.oneLayout {\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 200px;\n  }\n  .playerOneContainer.oneLayout .boardControlsContainer {\n    display: flex;\n    flex-direction: row;\n  }\n}\n\n.goBackButton {\n  background-color: #575957;\n  margin: 10px;\n}\n.goBackButton:hover {\n  background-color: #868b85;\n  transform: translateY(-5px);\n}\n\n.form-element {\n  display: flex;\n  font-size: 1.2rem;\n  gap: 5px;\n  flex-direction: column;\n}\n#input.game-id {\n  border-radius: 5px;\n}\n#confirmIdButton,\n#cancelGameButton {\n  font-size: min(5vw, 1.1rem);\n  padding: 10px;\n  width: 150px;\n  margin-top: 20px;\n}\n\n.gameIdContainer {\n  font-family: "Inconsolata", monospace;\n  background-color: #636763;\n  font-size: min(3vw, 1rem);\n  color: #f6f5e3;\n  border-radius: 15px;\n  text-align: center;\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n.gameId {\n  transition: all 0.2s ease-in-out;\n  border-radius: 15px;\n  background-color: #474a47;\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  padding: 5px;\n}\n.gameId:hover {\n  background-color: #353735;\n}\n\n.gameId .tooltiptext {\n  visibility: hidden;\n  width: 160px;\n  background-color: #fefefe;\n  font-size: min(5vw, 1rem);\n  color: #636763;\n  text-align: center;\n  border-radius: 5px;\n  padding: 5px;\n  position: absolute;\n  z-index: 1;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -80px;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.gameId:hover .tooltiptext {\n  visibility: visible;\n  opacity: 1;\n}\n\n.toast {\n  font-family: "Inconsolata", monospace;\n  visibility: hidden;\n  max-width: 50%;\n  margin: 0 auto;\n  text-align: center;\n  border-radius: 5px;\n  padding: 16px;\n  position: fixed;\n  z-index: 1;\n  left: 50%;\n  bottom: 30px;\n  font-size: 17px;\n  transform: translateX(-50%);\n  border-radius: 15px;\n  box-shadow:\n    rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n    rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;\n  background-color: #394f41;\n  color: #f6f5e3;\n}\n\n.toast.show {\n  visibility: visible;\n  -webkit-animation:\n    fadein 0.5s,\n    fadeout 0.5s 2.5s;\n  animation:\n    fadein 0.5s,\n    fadeout 0.5s 2.5s;\n}\n\n.toast.show.alert {\n  background-color: #8c4946;\n}\n\n@keyframes fadein {\n  from {\n    bottom: 0;\n    opacity: 0;\n  }\n  to {\n    bottom: 30px;\n    opacity: 1;\n  }\n}\n\n@keyframes fadeout {\n  from {\n    bottom: 30px;\n    opacity: 1;\n  }\n  to {\n    bottom: 0;\n    opacity: 0;\n  }\n}\n\n.spinner {\n  border: 9px solid #f9f8e5;\n  border-top: 9px solid #3a4f41d5;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: spin 2s linear infinite;\n}\n.spinner.small {\n  border: 4px solid #f9f8e5;\n  border-top: 4px solid #3a4f41d5;\n  width: 20px;\n  height: 20px;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n`,""]);const L=f},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(r[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);i&&r[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var o={},r=[],s=0;s<e.length;s++){var d=e[s],l=i.base?d[0]+i.base:d[0],c=o[l]||0,p="".concat(l," ").concat(c);o[l]=c+1;var u=n(p),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var m=a(h,i);i.byIndex=s,t.splice(s,0,{identifier:p,updater:m,references:1})}r.push(p)}return r}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=i(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var s=n(o[r]);t[s].references--}for(var d=i(e,a),l=0;l<o.length;l++){var c=n(o[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=d}}},659:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,a&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},474:(e,t,n)=>{e.exports=n.p+"067e05f71d66574c86d3.png"},100:(e,t,n)=>{e.exports=n.p+"b62f1a13f60c199ac2e8.svg"},254:(e,t,n)=>{e.exports=n.p+"afa3fba440f9b3ac0715.svg"},409:(e,t,n)=>{e.exports=n.p+"503d6be1ffd114e8e443.jpg"},89:(e,t,n)=>{e.exports=n.p+"1164ef7266f263b2c133.svg"},657:(e,t,n)=>{e.exports=n.p+"7f4e91d158a9c4696b56.svg"}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=i[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{class e{constructor(e,t=null,n=null,i=null){this.length=e,this.hits=0,this.sunk=!1,this.id=t,this.isHorizontal=!0,this.x=n,this.y=i}hit(){this.hits<this.length&&(this.hits+=1),this.isSunk()}isSunk(){return this.hits===this.length&&(this.sunk=!0),this.sunk}setId(e){this.id=e}getId(){return this.id}getLength(){return this.length}setIsHorizontal(e){this.isHorizontal=e}getIsHorizontal(){return this.isHorizontal}setXY(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}}class t{constructor(){this.size=10,this.board=this.initializeBoard(),this.ships=[],this.placedShips=new Set}initializeBoard(){const e=[];for(let t=0;t<this.size;t++){e[t]=[];for(let n=0;n<this.size;n++)e[t][n]={ship:null,hit:!1,boardHit:!1}}return e}initializeShips(){const t=[];t.push(...function(){const t=[];for(let n=0;n<4;n++){const n=new e(2);t.push(n)}return t}(),...function(){const t=[];for(let n=0;n<3;n++){const n=new e(3);t.push(n)}return t}(),...function(){const t=[];for(let n=0;n<2;n++){const n=new e(4);t.push(n)}return t}(),...function(){const t=[],n=new e(5);return t.push(n),t}());let n=1;for(let e=0;e<t.length;e++)t[e].setId(n),n+=1;return t}restartBoard(){this.board=this.initializeBoard(),this.ships=[],this.placedShips=new Set,this.missedHits=0}createShip(t,n){if(!this.ships.find((e=>e.getId()===t))){const i=new e(n,t);this.ships.push(i)}}getShip(e,t){return null!==this.board[e][t].ship&&this.board[e][t].ship}placeShipsRandomly(){this.restartBoard(),this.ships=this.initializeShips(),function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(this.ships).forEach((e=>{let t,n,i,a=!1,o=0;for(;!a&&o<100;)i=Math.random()<.5,i?(n=Math.floor(Math.random()*(this.size-e.length+1)),t=Math.floor(Math.random()*this.size)):(n=Math.floor(Math.random()*this.size),t=Math.floor(Math.random()*(this.size-e.length+1))),this.placeShip(e.getId(),t,n,i)&&(a=!0),o++;a||this.placeShipsRandomly(),e.setIsHorizontal(i),e.setXY(t,n),this.placedShips.add(e.getId())}))}placeShip(e,t,n,i){const a=this.ships.find((t=>t.getId()===e)),o=a.length;if(this.checkAvailability(e,o,t,n,i)){if(i)for(let e=0;e<=o-1;e++)this.board[t][n+e].ship=a;if(!i)for(let e=0;e<=o-1;e++)this.board[t+e][n].ship=a;return this.placedShips.add(e),a.setIsHorizontal(i),a.setXY(t,n),!0}return!1}removeShip(e){const t=this.ships.find((t=>t.getId()===e));if(!t)return!1;for(let e=0;e<this.size;e++)for(let n=0;n<this.size;n++)this.board[e][n].ship===t&&(this.board[e][n].ship=null);return this.placedShips.delete(e),"Ship successfully deleted!"}isShipAlreadyPlaced(e){return this.placedShips.has(e)}receiveAttack(e,t){if(this.board[e][t].hit||this.board[e][t].boardHit)return;const n=this.getShip(e,t);if(n){if(n.hit(),this.board[e][t].hit=!0,n.isSunk()){const e=n.getLength(),t=n.getIsHorizontal(),i=n.getX(),a=n.getY();this.hitNeighborCells(i,a,t,e)}}else this.board[e][t].hit=!0}areAllShipsSunk(){return!!this.ships.every((e=>e.isSunk()))}hitNeighborCells(e,t,n,i){if(n){const n=t-1;for(let t=-1;t<=1;t++)for(let a=0;a<=i+1;a++){const i=e+t,o=n+a;i>=0&&i<10&&o>=0&&o<10&&(this.board[i][o].hit||this.board[i][o].ship||(this.board[i][o].boardHit=!0))}}else{const n=e-1;for(let e=-1;e<=1;e++)for(let a=0;a<=i+1;a++){const i=n+a,o=t+e;i>=0&&i<10&&o>=0&&o<10&&(this.board[i][o].hit||this.board[i][o].ship||(this.board[i][o].boardHit=!0))}}}checkAvailability(e,t,n,i,a){return!(!this.isWithinBoard(t,n,i,a)||this.isShipAlreadyPlaced(e)||!this.shipCellsAreEmpty(t,n,i,a)||this.hasNeighbors(t,n,i,a)||this.hasDiagonalNeighbors(t,n,i,a))}isWithinBoard(e,t,n,i){return!(t<0||t>=this.size||n<0||n>=this.size||i&&n+e-1>=this.size||!i&&t+e-1>=this.size)}shipCellsAreEmpty(e,t,n,i){if(i){for(let i=0;i<e;i++)if(null!==this.board[t][n+i].ship)return!1}else for(let i=0;i<e;i++)if(null!==this.board[t+i][n].ship)return!1;return!0}hasNeighbors(e,t,n,i){if(i){if(0!==n&&null!==this.board[t][n-1].ship)return!0;if(n+e-1!=this.size-1&&null!==this.board[t][n+e].ship)return!0;if(0!==t)for(let i=0;i<e;i++)if(null!==this.board[t-1][n+i].ship)return!0;if(t!==this.size-1)for(let i=0;i<e;i++)if(null!==this.board[t+1][n+i].ship)return!0}else{if(0!==n)for(let i=0;i<e;i++)if(null!==this.board[t+i][n-1].ship)return!0;if(n!==this.size-1)for(let i=0;i<e;i++)if(null!==this.board[t+i][n+1].ship)return!0;if(0!==t&&null!==this.board[t-1][n].ship)return!0;if(t+e-1!=this.size-1&&null!==this.board[t+e][n].ship)return!0}return!1}hasDiagonalNeighbors(e,t,n,i){if(t>0&&n>0&&null!==this.board[t-1][n-1].ship)return!0;if(!i){if(n>0&&t+e-1<9&&null!==this.board[t+e][n-1].ship)return!0;if(t>0&&n<9&&null!==this.board[t-1][n+1].ship)return!0;if(t+e-1<9&&n<9&&null!==this.board[t+e][n+1].ship)return!0}if(i){if(n>0&&t<9&&null!==this.board[t+1][n-1].ship)return!0;if(t>0&&n+e-1<9&&null!==this.board[t-1][n+e].ship)return!0;if(t<9&&n+e-1<9&&null!==this.board[t+1][n+e].ship)return!0}return!1}}class i{constructor(e,n,i){this.type=e,this.board=new t,this.name=n,this.id=i}}function a(e,t){const n=document.createElement("div");n.id=`${e}BoardContainer`,n.classList.add("gameboardContainer");const i=document.createElement("div");i.classList.add("gameboard"),i.id=`${e}`,n.appendChild(i);const a=document.createElement("div");a.classList.add("numberContainerX"),i.appendChild(a);for(let e=0;e<10;e++){const t=document.createElement("div");t.textContent=e,t.classList.add("number-cell"),a.appendChild(t)}const o=document.createElement("div");o.classList.add("numberContainerY"),i.appendChild(o);for(let e=0;e<10;e++){const t=document.createElement("div");t.textContent=e,t.classList.add("number-cell"),o.appendChild(t)}const r=document.createElement("div");r.classList.add("cells"),i.appendChild(r);for(let t=0;t<10;t++)for(let n=0;n<10;n++){const i=document.createElement("div");i.textContent="",i.dataset.row=t,i.dataset.column=n,r.appendChild(i),i.classList.add("cell"),i.classList.add(`${e}`)}return t.appendChild(n),n}function o(e,t){const n=document.getElementById(`${t}`);for(let t=0;t<e.size;t++)for(let i=0;i<e.size;i++){const a=n.querySelector(`[data-row='${t}'][data-column='${i}']`);e.board[t][i].ship?(a.classList.add("ship"),a.dataset.id=e.board[t][i].ship.id):(a.classList.remove("ship"),a.removeAttribute("data-id")),e.board[t][i].hit?a.classList.add("hit"):a.classList.remove("hit"),e.board[t][i].boardHit?a.classList.add("boardHit"):a.classList.remove("boardHit")}}function r(e){document.getElementById(`${e}`).querySelectorAll(".cell").forEach((e=>{e.classList.add("hidden")}))}let s;const d=document.querySelector("#content");function l(e){e.dataTransfer.setDragImage(e.target,20,20);const t=e.currentTarget.dataset,n=JSON.stringify(t);e.dataTransfer.setData("text/plain",n)}function c(e){e.preventDefault(),e.target.classList.add("highlighted")}function p(e){e.target.classList.remove("highlighted")}function u(e){e.preventDefault();const t=e.target;t.classList.remove("highlighted");const n=e.dataTransfer.getData("text/plain"),i=JSON.parse(n),a=i.id,r="true"===i.isHorizontal,d=parseInt(i.length,10),l=parseInt(t.getAttribute("data-row"),10),c=parseInt(t.getAttribute("data-column"),10),p=t.closest(".gameboard"),u=p.closest(".gameboardContainer").parentElement.querySelector(".selectionBoard");let h;h=s?function(e,t,n,i,a){const[r]=z.getPlayers(),s=r.board,d=Number(e);s.createShip(d,a);return!!s.placeShip(d,t,n,i)&&(o(s,r.type),!0)}(a,l,c,r,d,p.id):function(e,t,n,i,a,r){const[s,d]=R.getPlayers(),l=[s,d].find((e=>e.type===r)),c=l.board,p=Number(e);c.createShip(p,a);return!!c.placeShip(p,t,n,i)&&(o(c,l.type),!0)}(a,l,c,r,d,p.id),h&&u.querySelector(`[data-id="${a}"]`).classList.add("hidden")}function h(e){e.preventDefault(),function(e){const t=e.parentElement,n=e.dataset.player;let i;"player1"===n&&(i=document.querySelector(".playerOneContainer")),"player2"===n&&(i=document.querySelector(".playerTwoContainer"));const a=i.querySelector(".ships"),o=i.querySelector(".shipsHorizontal");e.classList.contains("rotated")?(e.classList.remove("rotated"),a.appendChild(t),e.dataset.isHorizontal=!1):(e.classList.add("rotated"),o.appendChild(t),e.dataset.isHorizontal=!0)}(e.currentTarget)}function m(e,t,n,i){const a=document.createElement("div");a.classList.add("shipContainer");const o=document.createElement("div");let r;o.classList.add("ship"),a.appendChild(o),i.classList.contains("ships")&&(r="player1"),i.classList.contains("ships2")&&(r="player2"),o.dataset.length=t,o.dataset.isHorizontal=!1,o.dataset.id=e,o.dataset.player=r;for(let e=1;e<=t;e++){const e=document.createElement("div");e.classList.add("shipPart"),o.appendChild(e)}n.push(a),o.setAttribute("draggable",!0),o.addEventListener("dragstart",l),o.addEventListener("click",h),i.appendChild(a)}function f(e){const t=e||document.querySelector(".selectionBoard");for(;t.firstChild;)t.removeChild(t.firstChild);const n=[];m(1,2,n,t),m(2,2,n,t),m(3,2,n,t),m(4,2,n,t),m(5,3,n,t),m(6,3,n,t),m(7,3,n,t),m(8,4,n,t),m(9,4,n,t),m(10,5,n,t)}function g(e){f(e)}function y(e){e.querySelectorAll(".ship").forEach((e=>{e.classList.add("hidden")}))}function b(e){const t=document.querySelector("#gameStatusMessage");t&&(t.textContent=`Your game status is ${e}`)}function v(e){const t=document.querySelector("#playerMessage");t&&(t.textContent=`You are ${e}`)}function x(e){const t=document.querySelector("#gameRulesMessage");t&&(t.textContent="untilMiss"===e?"Your game style is until miss":"Your game style is one by one"),console.log(t)}function C(e,t){const n=document.querySelector("#toast");n&&(n.textContent=e,n.className=t?"toast show alert":"toast show",setTimeout((()=>{n.classList.remove("show")}),3e3))}const L=document.querySelector("#content");function E(e,t=!1,n){for(;L.firstChild;)L.removeChild(L.firstChild);if("playing"===e){const e=function(e,t){const n=document.createElement("div");n.classList.add("gameContainer"),N.appendChild(n);const i=document.createElement("div");i.classList.add("infoContainer"),n.appendChild(i);const s=document.createElement("div");s.classList.add("turnMessage"),i.appendChild(s);const d=document.createElement("div");d.classList.add("boardsContainer"),n.appendChild(d);const l=document.createElement("div");if(l.classList.add("buttonsContainer"),n.appendChild(l),a("human",d),e){s.classList.remove("hidden");const e=document.createElement("div");l.appendChild(e);const t=document.createElement("button");t.textContent="Pass turn";const n=document.createElement("button");n.textContent="Ready!",n.style.display="none",t.addEventListener("click",(()=>{!function(){const[e,t]=R.getPlayers();r(e.type),r(t.type),_.changeShips(),Y(`${R.getActivePlayer().name} turn!`)}(),t.style.display="none",n.style.display="block"})),n.addEventListener("click",(()=>{var e;e=R.getActivePlayer().type,document.getElementById(`${e}`).querySelectorAll(".cell").forEach((e=>{e.classList.remove("hidden")})),_.changeShips(),t.style.display="block",n.style.display="none"})),e.appendChild(t),e.appendChild(n),a("human2",d),document.querySelectorAll(".cell").forEach((e=>{e.addEventListener("click",(()=>{D(e)}))}))}if(t&&(a("human2",d),document.querySelectorAll(".cell").forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("hit")||e.classList.contains("human")||function(e){if(null!==z.getActivePlayer()&&M.isIntervalActive()){const t=e.getAttribute("data-row"),n=e.getAttribute("data-column"),[i]=z.getPlayers(),a=async function(e,t,n,i){return T(`https://${w}/turn/${e}?player_id=${t}&x=${n}&y=${i}`)}(M.getGameId(),i.id,t,n);a.then((e=>{!function(e,t,n,i){const a=document.getElementById("human2"),r=a.querySelector(`[data-row='${e}'][data-column='${t}']`);"HIT"===n&&(r.classList.add("ship"),r.classList.add("hit")),"MISS"===n&&r.classList.add("hit"),"KILL"===n&&(r.classList.add("ship"),r.classList.add("hit"),function(e,t){t.forEach((([t,n])=>{[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].forEach((([i,a])=>{const o=t+i,r=n+a;if(function(e,t){return e>=0&&e<10&&t>=0&&t<10}(o,r)){const t=e.querySelector(`.cell[data-row="${o}"][data-column="${r}"]`);!t||t.classList.contains("hit")||t.classList.contains("ship")||t.classList.add("boardHit")}}))})),o(e,"human2")}(a,i))}(t,n,e.result,e.cells)}))}}(e)}))}))),e||t||(a("computer",d),document.querySelectorAll(".cell").forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("hit")||e.classList.contains("human")||D(e)}))}))),!t){const t=document.createElement("div");!function(e,t){Q("restartGameButton",e,"Restart game!").addEventListener("click",(()=>{U(),E("selecting",t)}))}(t,e),l.appendChild(t)}const c=document.createElement("div");return te(c,!1,t),l.appendChild(c),n}(t,n);L.appendChild(e)}if("selecting"===e){const e=function(e,t){const n=document.createElement("div");if(n.classList.add("selectMenuContainer"),d.appendChild(n),!e){const e=document.createElement("div");e.classList.add("screenControlsContainer"),n.appendChild(e);const i=document.createElement("div");te(i,!0,t);const a=document.createElement("div");ee(a,t),e.appendChild(i),e.appendChild(a)}if(t){s=!0;const e=document.createElement("div");e.classList.add("gameIdContainer"),n.appendChild(e);const i=document.createElement("span");i.textContent="Your game id: ";const a=document.createElement("span");a.classList.add("gameId"),a.textContent=t;const o=document.createElement("div");o.id="toast",n.appendChild(o),a.addEventListener("click",(()=>{const e=t;navigator.clipboard.writeText(e).then((()=>{C(`Game ID copied to clipboard: ${t}`)})).catch((e=>{console.error("Failed to copy text: ",e)}))}));const r=document.createElement("span");r.classList.add("tooltiptext"),r.textContent="Left-click to copy",a.appendChild(r),e.appendChild(i),e.appendChild(a);const d=document.createElement("div");d.id="gameStatusMessage",e.appendChild(d);const l=document.createElement("div");l.id="playerMessage",e.appendChild(l);const c=document.createElement("div");c.id="gameRulesMessage",e.appendChild(c)}const i=document.createElement("div");i.classList.add("choosingContainer"),n.appendChild(i);const l=document.createElement("div");l.classList.add("playerOneContainer"),i.appendChild(l);const h=document.createElement("div");h.classList.add("selectionBoard"),l.appendChild(h);const m=document.createElement("div");m.classList.add("boardTextContainer"),h.appendChild(m);const b=document.createElement("div");b.classList.add("boardName"),b.textContent="Your ships",m.appendChild(b);const v=document.createElement("div");v.classList.add("helpingContainer"),m.appendChild(v);const x=document.createElement("div");x.classList.add("helpingMessage"),x.textContent="• To rotate a ship left click on it",v.appendChild(x);const L=document.createElement("div");L.classList.add("helpingMessage"),L.textContent="• To remove a placed ship left click on the board",v.appendChild(L);const E=document.createElement("div");E.classList.add("ships"),h.appendChild(E),f(E);const w=document.createElement("div");w.classList.add("shipsHorizontal"),h.appendChild(w),a("human",l);const k=document.createElement("div");k.classList.add("boardControlsContainer"),l.appendChild(k);const S=document.createElement("div");let P;P=ie(S,!1,!!t),P.addEventListener("click",(()=>y(h)));const I=document.createElement("div");if(ae(I,!1,t).addEventListener("click",(()=>{g(E)})),k.appendChild(S),k.appendChild(I),e){const e=document.createElement("div");e.classList.add("controlButtonsContainer"),i.appendChild(e);const t=document.createElement("div");te(t,!0);const n=document.createElement("div");ee(n),e.appendChild(n),e.appendChild(t);const o=document.createElement("button");o.id="hideFirstPlayer",o.textContent="Pass selecting to other player";const s=document.createElement("button");s.id="hideSecondPlayer",s.textContent="Finish selecting",s.style.display="none";const d=document.createElement("div");d.classList.add("selectionBoard");const l=document.createElement("div");l.classList.add("boardTextContainer"),d.appendChild(l);const c=document.createElement("div");c.classList.add("boardName"),c.textContent="Your ships",l.appendChild(c);const p=document.createElement("div");p.classList.add("helpingContainer"),l.appendChild(p);const u=document.createElement("div");u.classList.add("helpingMessage"),u.textContent="• To rotate a ship left click on it",p.appendChild(u);const h=document.createElement("div");h.classList.add("helpingMessage"),h.textContent="• To remove a placed ship left click on the board",p.appendChild(h);const m=document.createElement("div");m.classList.add("ships2"),d.appendChild(m),f(m);const b=document.createElement("div");b.classList.add("shipsHorizontal"),d.appendChild(b);const v=document.createElement("div");v.classList.add("playerTwoContainer");const x=document.createElement("div");x.classList.add("boardControlsContainer"),x.classList.add("hidden"),o.addEventListener("click",(()=>{V()&&(r("human"),x.classList.remove("hidden"),k.classList.add("hidden"),o.style.display="none",s.style.display="block")})),s.addEventListener("click",(()=>{J()&&(r("human2"),x.classList.add("hidden"),s.classList.add("hidden"))})),e.appendChild(o),e.appendChild(s),i.appendChild(v),v.appendChild(d),a("human2",v),v.appendChild(x);const C=document.createElement("div");ie(C,!0).addEventListener("click",(()=>y(d)));const L=document.createElement("div");ae(L,!0).addEventListener("click",(()=>{g(m)})),x.appendChild(C),x.appendChild(L)}else l.classList.add("oneLayout");return document.querySelectorAll(".cell").forEach((e=>{e.addEventListener("dragstart",(e=>{e.preventDefault()})),e.addEventListener("dragover",c),e.addEventListener("dragleave",p),e.addEventListener("drop",u,t),e.addEventListener("click",(()=>{e.dataset.id&&function(e){const t=e.dataset.id,n=e.closest(".gameboard"),i=n.closest(".gameboardContainer").parentElement.querySelector(".selectionBoard");s?function(e,t){const n=Number(e),[i]=z.getPlayers();i.board.removeShip(n),o(i.board,i.type)}(t,n.id):function(e,t){const n=Number(e),[i,a]=R.getPlayers(),r=[i,a].find((e=>e.type===t)),s=r.board;s.removeShip(n),o(s,r.type)}(t,n.id),i.querySelector(`[data-id="${t}"]`).classList.remove("hidden")}(e)}))})),n}(t,n);L.appendChild(e)}if("starting"===e){const e=ue();L.appendChild(e)}}const w="votrubac.pythonanywhere.com";let k,S,P,I=0;const M=function(){let e,t="untilMiss",n=!0;return{changeGameStyle:function(){t="oneByOne"===t?"untilMiss":"oneByOne"},getGameStyle:function(){return t},updateGameId:function(t){e=t},getGameId:function(){return e},resetGameStatus:function(){k=null},isIntervalActive:function(){return n},offInterval:function(){n=!1},onInterval:function(){n=!0}}}(),z=function(){const e=[];let t=null;return{getPlayers:function(){return e},setActivePlayer:function(){[t]=e},getActivePlayer:()=>t,resetActivePlayer:()=>{t=null},initializePlayer:function(t,n){const a=new i("human",n,t);e.push(a)},resetPlayers:function(){e.shift()}}}();async function T(e){return(await fetch(e)).json()}async function B(e){const[t]=z.getPlayers();if("LOBBY"===e.state&&(b(e.state),v(t.name),x(M.getGameStyle())),"SETUP"===e.state&&(b(e.state),"Player 1"===t.name&&C("Player 2 has joined"),x(M.getGameStyle()),v(t.name)),"TURN"===e.state&&(E("playing",!1,!0),o(t.board,t.type),q(),clearInterval(S)),"FINISHED"===e.state){H(e,t);const{winner:n}=e;G(),M.offInterval(),n===t.name?Y("You won!"):Y(`${n} won!`)}console.log("Game status updated to:",e.state)}async function A(e){return T(`https://${w}/status/${e}`)}async function $(e,t){try{const n=await A(e);if(!M.isIntervalActive())return;return n.state!==k&&(k=n.state,B(n)),I!==n.ready_players.length&&function(e,t){const[n]=z.getPlayers();if(n){const i="Player 1"===n.name?"Player 2":"Player 1";e.includes(i)?C(`${i} is ready`):1===t?C(`${i} hasn't joined yet`):e.includes(i)?0===e.length&&C("None of the players is ready"):C(`${i} is not ready`),I=e.length}}(n.ready_players,n.joined_players.length),t||(S=setTimeout((()=>$(e)),5e3)),console.log(n),n}catch(t){console.error("Failed to fetch game status:",t),$(e)}}function G(){clearInterval(S),clearInterval(P),z.resetPlayers(),M.resetGameStatus(),I=0}function H(e,t){const n="Player 1"===t.name?"Player 2":"Player 1",i=e.turns[n],{length:a}=i;if(0!==a){for(let e=0;e<a;e++){const{x:n,y:a}=i[e];t.board.receiveAttack(n,a)}o(t.board,t.type)}}async function q(){if(!M.isIntervalActive())return;const e=M.getGameId(),[t]=z.getPlayers(),n=await $(e,!0);t&&H(n,t);const i=n.players_order[n.current_player];n.winner||(i===t.name?(Y("Your turn!"),z.setActivePlayer()):(z.resetActivePlayer(),Y(`${i} turn!`)),P=setTimeout((()=>q()),1e3))}async function O(e){const t=M.getGameId(),[n]=z.getPlayers(),i=n.id;return T(`https://${w}/player_ready/${t}?player_id=${i}&ready=${e?"True":"False"}`)}const N=document.querySelector("#content");function Y(e){const t=document.querySelector(".turnMessage");t&&(t.textContent=e)}const j=function(){let e="playerVsComputer",t="untilMiss";return{changeGameMode:function(){e="playerVsComputer"===e?"playerVsPlayer":"playerVsComputer"},changeGameStyle:function(){t="oneByOne"===t?"untilMiss":"oneByOne"},getGameMode:function(){return e},getGameStyle:function(){return t}}}(),R=function(){const e=[];let t=null,n=null;return{getPlayers:function(){return e},getActivePlayer:()=>t,switchTurn:function(){[t,n]=[n,t]},getWaitingPlayer:()=>n,initializePlayers:function(a){if(e.length=0,"playerVsComputer"===a){const a=new i("human","Player 1"),o=new i("computer","Computer");t=a,n=o,e.push(a),e.push(o)}else{const a=new i("human","Player 1"),o=new i("human2","Player 2");t=a,n=o,e.push(a),e.push(o)}}}}(),W=function(){const e={hitStack:[],direction:null,directionsTried:{},isShipHorizontal:!1,initialX:null,initialY:null,isLastHit:!1,numberOfHits:0,shipCounters:{5:1,4:2,3:3,2:4}},t=function(t=!1){e.hitStack=[],e.direction=null,e.directionsTried={},e.isShipHorizontal=!1,e.initialX=null,e.initialY=null,e.isLastHit=!1,e.numberOfHits=0,t&&(e.shipCounters={5:1,4:2,3:3,2:4})},n=(e,t,n)=>{switch(n){case"up":return{x:e-1,y:t};case"right":return{x:e,y:t+1};case"down":return{x:e+1,y:t};case"left":return{x:e,y:t-1};default:return null}},i=(e,t)=>e>=0&&e<10&&t>=0&&t<10,a=["up","right","down","left"],r=function(t){let n,i=a.indexOf(t);for(let t=0;t<a.length;t++)if(i=(i+1)%a.length,n=a[i],!e.directionsTried[n])return n;return!1};function s(t){e.shipCounters[t]>0&&(e.shipCounters[t]-=1)}const d=function(){const e=R.getWaitingPlayer(),t=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());return e.board.board[t][n].hit||e.board.board[t][n].boardHit?d():[t,n]};return{playSmartComputerRound:function(){if(!_.getIsWin()){const l=R.getWaitingPlayer(),[c,p]=function(){let o,l,c,p;const u=function(){const t=Object.keys(e.shipCounters).map(Number).sort(((e,t)=>t-e)).find((t=>e.shipCounters[t]>0));return void 0!==t?t:null}(),h=R.getWaitingPlayer();if(e.numberOfHits===u)return({x:c,y:p}=e.hitStack.pop()),s(u),t(),d();if(e.hitStack.length>0||null!==e.initialX)for(null===e.initialX||e.isLastHit?({x:c,y:p}=e.hitStack.pop()):(c=e.initialX,p=e.initialY),e.direction||(e.direction=function(){const e=Math.floor(Math.random()*a.length);return a[e]}(),e.directionsTried={up:!1,right:!1,down:!1,left:!1}),2===e.numberOfHits&&e.isLastHit&&function(){const t=e.direction;e.isShipHorizontal="left"===t||"right"===t,e.isShipHorizontal?e.directionsTried={up:!0,down:!0,left:!1,right:!1}:e.directionsTried={up:!1,down:!1,left:!0,right:!0}}(),({x:o,y:l}=n(c,p,e.direction));!i(o,l)||h.board.board[o][l].hit||h.board.board[o][l].boardHit||e.directionsTried[e.direction];){if(e.directionsTried[e.direction]=!0,!r(e.direction))return s(e.numberOfHits),t(),d();e.direction=r(e.direction),({x:o,y:l}=n(e.initialX,e.initialY,e.direction))}else t(),[o,l]=d();return console.log(o,l),[o,l]}();l.board.receiveAttack(c,p),o(l.board,l.type),l.board.board[c][p].ship?(e.hitStack.push({x:c,y:p}),null===e.initialX&&(e.initialX=c,e.initialY=p),e.numberOfHits+=1,e.isLastHit=!0):(e.isLastHit=!1,e.direction&&(e.directionsTried[e.direction]=!0)),_.switchTurn(c,p)}},restartComputerMemory:t}}(),_=function(){let e=!1,t=!1;return{getIsWin:function(){return!!e},switchTurn:function(e,t){const n=R.getWaitingPlayer(),i=R.getActivePlayer(),a=j.getGameStyle();j.getGameMode(),_.checkWin()?Y(`${R.getActivePlayer().name} won!`):("oneByOne"===a&&(R.switchTurn(),Y(`${R.getActivePlayer().name} turn!`),o(n.board,n.type),"computer"===n.type&&setTimeout((()=>{W.playSmartComputerRound()}),600)),"untilMiss"===a&&(n.board.board[e][t].ship||(R.switchTurn(),Y(`${R.getActivePlayer().name} turn!`),o(n.board,n.type),"computer"===n.type&&(setTimeout((()=>{W.playSmartComputerRound()}),600),o(n.board,n.type))),n.board.board[e][t].ship&&"computer"===i.type&&(setTimeout((()=>{W.playSmartComputerRound()}),800),o(n.board,n.type)))),o(n.board,n.type)},checkWin:function(){const e=R.getWaitingPlayer();return!!e.board.areAllShipsSunk()&&(_.registerWin(),o(e.board,e.type),Y(`${R.getActivePlayer().name} won!`),!0)},registerWin:function(){e=!0},restartRounds:function(){e=!1},areShipsHidden:function(){return t},changeShips:function(){t=!t}}}();function D(e){const t=R.getWaitingPlayer();if(!function(e){const t=j.getGameMode(),n=_.areShipsHidden(),i=R.getWaitingPlayer(),a=Array.from(e.classList).find((e=>e.startsWith("human")));return("playerVsComputer"!==t||"computer"!==R.getActivePlayer().type&&!_.getIsWin())&&("playerVsPlayer"!==t||!_.getIsWin()&&R.getActivePlayer().type!==a&&!n&&(o=i.type,null!==document.getElementById(`${o}`).querySelector(".cell.hidden")));var o}(e))return!1;{const n=t.board;if(!_.getIsWin()){const t=parseInt(e.getAttribute("data-row"),10),i=parseInt(e.getAttribute("data-column"),10);n.receiveAttack(t,i),_.switchTurn(t,i)}}}function X(e,t){e.placeShipsRandomly(),o(e,t)}function F(e,t){e.restartBoard(),o(e,t)}function U(){const[e,t]=R.getPlayers();F(e.board,e.type),F(t.board,t.type),_.restartRounds(),W.restartComputerMemory(!0),"computer"!==R.getActivePlayer().type&&"human2"!==R.getActivePlayer().type||R.switchTurn()}function V(){const[e,t]=R.getPlayers();return 10===e.board.ships.length}function J(){const[e,t]=R.getPlayers();return 10===t.board.ships.length}const K=function(){const[e,t]=R.getPlayers();return"computer"===t.type&&(X(t.board,t.type),o(e.board,e.type),Y(`${R.getActivePlayer().name} turn!`)),"human2"===t.type&&(o(e.board,e.type),o(t.board,t.type),r(t.type),Y(`${R.getActivePlayer().name} turn!`)),{}};function Q(e,t,n){const i=document.createElement("button");return i.id=e,t.appendChild(i),i.textContent=n,i}function Z(e,t){let n,i;n=t?M.getGameStyle():j.getGameStyle(),i="untilMiss"===n?"Game style: Until first miss":"Game style: One by one";const a=Q("gameStyleChangeButton",e,i);return a.addEventListener("click",(()=>{t?(M.changeGameStyle(),n=M.getGameStyle()):(j.changeGameStyle(),n=j.getGameStyle()),a.textContent="untilMiss"===n?"Game style: Until first miss":"Game style: One by one"})),a}function ee(e,t){const n=Q("startGameButton",e,"Start your game!");return t?n.addEventListener("click",(()=>{const[e]=z.getPlayers();if(10!==e.board.ships.length)return void C("Place your ships first!",!0);const n=A(t),i=e.board.board;let a;!async function(e,t,n){const i=function(e){const t=[[],[],[],[],[],[],[],[],[],[]];for(let n=0;n<10;++n)for(let i=0;i<10;++i)if(null!==e[n][i].ship){const{ship:a}=e[n][i];t[a.id-1].push([n,i])}return t}(n),a=JSON.stringify(i);T(`https://${w}/set_board/${e}?player_id=${t}&ships=${a}`)}(t,e.id,i),setTimeout((()=>{O(!0)}),"800"),n.then((e=>{a=e;const t=function(){const e=document.querySelector(".selectMenuContainer"),t=document.createElement("dialog");t.classList.add("dialog"),t.id="joinGameDialog",e.appendChild(t);const n=document.createElement("div");n.textContent="Waiting for other player...",n.classList.add("dialogTitle"),t.appendChild(n);const i=document.createElement("div");i.classList.add("spinner"),i.classList.add("small"),i.style.display="block",t.appendChild(i);const a=document.createElement("div");return t.appendChild(a),oe(a,t),t}();t.showModal(),t.classList.add("active")}))})):n.addEventListener("click",(()=>{const e=j.getGameMode();(function(){const[e,t]=R.getPlayers();return!("computer"!==t.type||!V())||!("human2"!==t.type||!V()||!J())})()&&("playerVsPlayer"===e?E("playing",!0):E("playing"),K())})),n}function te(e,t,n){const i=Q("returnButton",e,"Return to starting menu");return i.addEventListener("click",(()=>{n&&(M.offInterval(),G()),t||n||U(),E("starting")})),i}function ne(e,t){let n,i;return[n,i]=t?z.getPlayers():R.getPlayers(),e?i:n}function ie(e,t=!1,n){const i=Q("randomizeButton",e,"Randomize ships!");return i.addEventListener("click",(()=>{const e=ne(t,n);var i,a;n?(i=e.board,a=e.type,i.placeShipsRandomly(),o(i,a)):X(e.board,e.type)})),i}function ae(e,t=!1,n){const i=Q("clearButton",e,"Clear board!");return i.addEventListener("click",(()=>{const e=ne(t,n);var i,a;n?(i=e.board,a=e.type,i.restartBoard(),o(i,a)):F(e.board,e.type),F(e.board,e.type)})),i}function oe(e,t){return Q("cancelGameButton",e,"Not ready yet").addEventListener("click",(()=>{O(!1).then((e=>{e.ready?C("Game is starting already!",!0):(t.classList.remove("active"),setTimeout((()=>{t.close()}),300))}))})),oe}const re=n.p+"af79ab97a89a232114bd.svg";function se(e,t){const n=document.createElement("li");n.textContent=e,t.appendChild(n)}const de=document.querySelector("#content");function le(){const e=document.querySelector(".buttonContainer");for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("button");t.textContent="Single player",e.appendChild(t);const n=document.createElement("button");n.textContent="Multiplayer",e.appendChild(n),n.addEventListener("click",pe),t.addEventListener("click",ce)}function ce(){const e=document.querySelector(".buttonContainer");for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("div");!function(e){const t=Q("initializeGameButton",e,"Start your game!");t.addEventListener("click",(()=>{!function(){const e=j.getGameMode();j.getGameStyle(),R.initializePlayers(e)}(),"playerVsPlayer"===j.getGameMode()?E("selecting",!0):E("selecting")}))}(t);const n=document.createElement("div");!function(e){let t,n=j.getGameMode();t="playerVsComputer"===n?"Game mode: Player Vs Computer":"Game mode: Player Vs Player";const i=Q("gameModeChangeButton",e,t);i.addEventListener("click",(()=>{j.changeGameMode(),n=j.getGameMode(),i.textContent="playerVsComputer"===n?"Game mode: Player Vs Computer":"Game mode: Player Vs Player"}))}(n);const i=document.createElement("div");Z(i);const a=document.createElement("button");a.textContent="Go back!",a.classList.add("goBackButton"),a.addEventListener("click",le),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(a)}function pe(){const e=document.querySelector(".buttonContainer");for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("div");t.classList.add("spinner"),t.style.display="none",e.appendChild(t),function(e){const t=Q("createGameButton",e,"Create your game!"),n=document.querySelector(".spinner");t.addEventListener("click",(()=>{n.style.display="block",async function(){G(),M.onInterval();try{const e=async function(e){return T(`https://${w}/new_game?turn_rule=${"untilMiss"===e?"TILL_MISS":"ONE_BY_ONE"}`)}(M.getGameStyle());return e.then((e=>{z.initializePlayer(e.player.id,e.player.name),$(e.id),M.updateGameId(e.id)})),e}catch(e){console.error("There was an error with the fetch operation:",e)}}().then((e=>{n.style.display="none",E("selecting",!1,e.id)}))}))}(e);const n=document.createElement("button");n.textContent="Join game";const i=function(){const e=document.querySelector(".startMenuContainer"),t=document.createElement("dialog");t.classList.add("dialog"),t.id="joinGameDialog",e.appendChild(t);const n=document.createElement("div");n.classList.add("closeButtonContainer"),t.appendChild(n);const i=document.createElement("button");i.id="closeButton",n.appendChild(i);const a=document.createElement("img");a.src=re,i.appendChild(a),i.addEventListener("click",(()=>{t.classList.remove("active"),setTimeout((()=>{t.close()}),300)}));const o=document.createElement("div");o.textContent="Enter game id",o.classList.add("dialogTitle"),t.appendChild(o);const r=document.createElement("form");r.id="gameIdForm",r.method="get";const s=document.createElement("div");s.className="form-element";const d=document.createElement("label");d.setAttribute("for","gameId"),d.textContent="Game id";const l=document.createElement("input");l.id="gameId",l.name="gameId",l.type="text",l.placeholder="aaa-aaa-aaaa",l.required=!0,s.appendChild(d),s.appendChild(l);const c=document.createElement("button");return c.type="submit",c.id="confirmIdButton",c.textContent="Join game",r.appendChild(s),r.appendChild(c),r.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("gameId").value;!async function(e){G(),M.onInterval(),T(`https://${w}/join_game/${e}`).then((t=>{z.initializePlayer(t.player.id,t.player.name),$(e),M.updateGameId(t.id)}))}(t),E("selecting",!1,t)})),t.appendChild(r),t}();n.addEventListener("click",(()=>{i.showModal(),i.classList.add("active")})),Z(e,!0);const a=document.createElement("button");a.textContent="Go back!",a.classList.add("goBackButton"),a.addEventListener("click",le),e.appendChild(n),e.appendChild(a)}function ue(){const e=document.createElement("div");e.classList.add("startMenuContainer"),de.appendChild(e);const t=document.createElement("div");t.classList.add("titleContainer");const n=document.createElement("h1");n.classList.add("title"),n.textContent="Battleship",t.appendChild(n),e.appendChild(t);const i=document.createElement("div");i.classList.add("buttonContainer"),e.appendChild(i),le();const a=document.createElement("div"),o=document.createElement("button");o.textContent="Help",a.appendChild(o);const r=document.createElement("div");r.textContent="by ",r.classList.add("authorMessage");const s=document.createElement("a");s.textContent="Anastasiia",s.href="https://github.com/citronoiseau/odin-battleship",s.target="_blank",r.appendChild(s),e.appendChild(a),e.appendChild(r);const d=function(){const e=document.querySelector(".startMenuContainer"),t=document.createElement("dialog");t.classList.add("dialog"),e.appendChild(t);const n=document.createElement("div");n.classList.add("closeButtonContainer"),t.appendChild(n);const i=document.createElement("button");i.id="closeButton",n.appendChild(i);const a=document.createElement("img");a.src=re,i.appendChild(a),i.addEventListener("click",(()=>{t.classList.remove("active"),setTimeout((()=>{t.close()}),300)}));const o=document.createElement("div");o.textContent="Help menu",o.classList.add("dialogTitle"),t.appendChild(o);const r=document.createElement("div");r.textContent="How to place ships?",r.classList.add("paragraphTitle"),t.appendChild(r);const s=document.createElement("ol");var d;s.classList.add("dialogParagraph"),t.appendChild(s),se("On PC, players can manually place their ships by dragging and dropping them onto their board, or they can opt for a randomized placement.",d=s),se("To rotate a ship, left-click on it.",d),se("On phones, ship placement is limited to randomization.",d),se("In a two-player single player game, the first player clicks 'Pass selecting to other player' after placing their ships. The second player places their ships and clicks 'Finish selecting'. Finally, the first player clicks 'Start your game' to begin.",d);const l=document.createElement("div");l.textContent="What is the difference between game styles?",l.classList.add("paragraphTitle"),t.appendChild(l);const c=document.createElement("ol");c.classList.add("dialogParagraph"),t.appendChild(c),function(e){se("In the 'One by One' style, each player takes turns to make a single attempt to hit the enemy's board.",e),se("In the 'Until Miss' style, a player can continue to make multiple attempts to hit the enemy's board within a single turn until they miss.",e)}(c);const p=document.createElement("div");p.classList.add("confirmButtonContainer"),t.appendChild(p);const u=document.createElement("button");return u.textContent="Confirm",u.id="confirmButton",p.appendChild(u),u.addEventListener("click",(()=>{t.classList.remove("active"),setTimeout((()=>{t.close()}),300)})),t}();return o.addEventListener("click",(()=>{d.showModal(),d.classList.add("active")})),e}var he=n(72),me=n.n(he),fe=n(825),ge=n.n(fe),ye=n(659),be=n.n(ye),ve=n(56),xe=n.n(ve),Ce=n(540),Le=n.n(Ce),Ee=n(113),we=n.n(Ee),ke=n(208),Se={};Se.styleTagTransform=we(),Se.setAttributes=xe(),Se.insert=be().bind(null,"head"),Se.domAPI=ge(),Se.insertStyleElement=Le(),me()(ke.A,Se),ke.A&&ke.A.locals&&ke.A.locals,ue()})()})();